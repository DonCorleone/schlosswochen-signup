<div class="card">
  <div class="card-header">
    Sign Up!
  </div>

  <div class="card-body">
    <form novalidate (ngSubmit)=save() [formGroup]="signupForm">

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="firstNameId">First Name</label>
        <div class="col-md-8">
          <input class="form-control" id="firstNameId" type="text" placeholder="First Name (required)"
            formControlName="firstName"
            [ngClass]="{'is-invalid': (signupForm.get('firstName')?.touched || signupForm.get('firstName')?.dirty) && !signupForm.get('firstName')?.valid }" />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('firstName')?.errors?.required">
              Please enter your first name.
            </span>
            <span *ngIf="signupForm.get('firstName')?.errors?.minlength">
              The first name must be longer than 3 characters.
            </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="lastNameId">Last Name</label>
        <div class="col-md-8">
          <input class="form-control" id="lastNameId" type="text" placeholder="Last Name (required)"
            formControlName="lastName"
            [ngClass]="{'is-invalid': (signupForm.get('lastName')?.touched || signupForm.get('lastName')?.dirty) && !signupForm.get('lastName')?.valid }" />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('lastName')?.errors?.required">
              Please enter your last name.
            </span>
            <span *ngIf="signupForm.get('lastName')?.errors?.maxlength">
              The last name must be less than 50 characters.
            </span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="phoneId">Phone</label>
        <div class="col-md-8">
          <input class="form-control" id="phoneId" type="tel" placeholder="Phone" formControlName="phone"
            [ngClass]="{'is-invalid': !signupForm.get('phone')?.valid }" />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('phone')?.errors?.required">
              Please enter your phone number.
            </span>
          </span>
        </div>
      </div>

      <div formGroupName="emailGroup">
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="emailId">Email</label>
          <div class="col-md-8">
            <input class="form-control" id="emailId" type="email" placeholder="Email (required)" formControlName="email"
              [ngClass]="{'is-invalid': emailMessage }" />
            <span class="invalid-feedback">
              {{ emailMessage }}
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="confirmEmailId">Confirm Email</label>
          <div class="col-md-8">
            <input class="form-control" id="confirmEmailId" type="email" placeholder="Confirm Email (required)"
              formControlName="confirmEmail" [ngClass]="{'is-invalid': confirmEmailMessage }" />
            <span class="invalid-feedback">
              {{ confirmEmailMessage }}
            </span>
          </div>
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="street1Id">Street Address 1</label>
        <div class="col-md-8">
          <input class="form-control" id="street1Id" type="text" placeholder="Street address" name="street1">
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="street2Id">Street Address 2</label>
        <div class="col-md-8">
          <input class="form-control" id="street2Id" type="text" placeholder="Street address (second line)"
            name="street2">
        </div>
      </div>

      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="cityId">City, State, Zip Code</label>
        <div class="col-md-3">
          <input class="form-control" id="cityId" type="text" placeholder="City" name="city">
        </div>
        <div class="col-md-3">
          <select class="form-control" id="stateId" name="state">
            <option value="" disabled selected hidden>Select a State...</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>
        </div>
        <div class="col-md-2">
          <input class="form-control" id="zipId" type="number" placeholder="Zip Code" name="zip">
        </div>
      </div>

      <div formArrayName="childs" *ngFor="let child of childs.controls; let i=index">
        <div [formGroupName]="i">
          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label" attr.for="{{ 'salutationId' + i }}">Salutation</label>
            <div class="col-md-8">
              <select class="form-control" id="{{ 'salutationId' + i}}" name="salutation">
                <option value="" disabled selected hidden>Select a Salutation...</option>
                <option value="M">Ritter</option>
                <option value="F">Prinzessin</option>
              </select>
            </div>
          </div>

          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label" attr.for="{{ 'firstNameChildId' + i }}">First Name</label>
            <div class="col-md-8">
              <input class="form-control" id="{{ 'firstNameChildId' + i}}" type="text" placeholder="First Name (required)"
                formControlName="firstNameChild"
                [ngClass]="{'is-invalid': (signupForm.get('firstNameChild')?.touched || signupForm.get('firstNameChild')?.dirty) && !signupForm.get('firstNameChild')?.valid }" />
              <span class="invalid-feedback">
                <span *ngIf="signupForm.get('firstNameChild')?.errors?.required">
                  Please enter the first name.
                </span>
                <span *ngIf="signupForm.get('firstNameChild')?.errors?.minlength">
                  The first name must be longer than 3 characters.
                </span>
              </span>
            </div>
          </div>

          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label" attr.for="{{ 'lastNameChildId' + i }}">Last Name</label>
            <div class="col-md-8">
              <input class="form-control" id="{{ 'lastNameChildId' + i}}" type="text" placeholder="Last Name (required)"
                formControlName="lastNameChild"
                [ngClass]="{'is-invalid': (signupForm.get('lastNameChild')?.touched || signupForm.get('lastNameChild')?.dirty) && !signupForm.get('lastName')?.valid }" />
              <span class="invalid-feedback">
                <span *ngIf="signupForm.get('lastNameChild')?.errors?.required">
                  Please enter the last name.
                </span>
                <span *ngIf="signupForm.get('lastNameChild')?.errors?.maxlength">
                  The last name must be less than 50 characters.
                </span>
              </span>
            </div>
          </div>

          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label form-check-label" attr.for="{{ 'fotoAllowedId' + i }}">Foto allowed</label>
            <div class="col-md-8">
              <input class="form-check-input" id="{{ 'fotoAllowedId' + i}}" type="checkbox" value="true"
                formControlName="fotoAllowed" />
            </div>
          </div>

          <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label" attr.for="{{ 'commentId' + i }}">Comment</label>
            <div class="col-md-8">
              <textarea class="form-control" id="{{ 'commentId' + i}}" formControlName="textArea" placeholder="Comment"
                formControlName="comment"></textarea>
            </div>
          </div>
        </div>

      </div>

      <div class="form-group row mb-2">
        <div class="offset-md-2 col-md-4">
          <button class="btn btn-primary mr-3" type="submit" style="width:80px"
            [title]="signupForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
            [disabled]="!signupForm.valid">
            Save
          </button>
        </div>
      </div>

    </form>
  </div>
</div>
<br>ID: {{ id }}
<br>Week: {{ week }}
<br>Amount of childs: {{ numOfChilds }}
<br>Dirty: {{ signupForm.dirty }}
<br>Touched: {{ signupForm.touched }}
<br>Valid: {{ signupForm.valid }}
<br>Value: {{ signupForm.value | json }}
