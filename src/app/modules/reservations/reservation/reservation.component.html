<app-wizard-step
  [title]="title"
  (previousStepClicked)="goToPreviousStep()"
  (nextStepClicked)="goToNextStep()"
>
  <div class="wizard-content">
    <div class="wizard-content-body">
      <form [formGroup]="signupForm">
        <div class="form-group row mb-2">
          <app-header [showWeek]="false" [showAmount]="false" [showCountdown]="false"></app-header>
        </div>
        <div *ngIf="weeks$ | async as weeks" class="form-group row mb-2">
          <div
            *ngIf="submitted && reservationsPerWeekCtlr?.errors?.min"
            class="alert alert-danger fade show"
            role="alert"
          >
            {{ "SELECTIONREQUIRED" | translate }}:
          </div>
          <div *ngFor="let week of weeks">
            <div *ngIf="week && week.week" class="weekBlock">
              <div class="weekSituation">
                <h2>{{ "WEEKNR" | translate }} {{ week.week }}</h2>
                <p>
                  {{ week.dateFrom | date: "dd.MM.YYYY":"de-CH" }} -
                  {{ week.dateTo | date: "dd.MM.YYYY":"de-CH" }}
                </p>
                <app-capacity [week]="week"></app-capacity>
              </div>
              <div class="weekReservation">
                <div class="radio-header text-warning">
                  {{ "NUMBEROFRESERVATIONS" | translate }}
                </div>
                <div class="radio-container">
                  <div
                    *ngFor="
                      let reservation of [].constructor(maxReservations);
                      let j = index
                    "
                  >
                    <label class="form-check-label">
                      <span>{{ j + 1 }}</span>
                      <input
                        class="form-check-input"
                        [id]="
                          'numOfChilds_' +
                          (j + 1).toString() +
                          '_week_' +
                          (week.week).toString()
                        "
                        type="radio"
                        [value]="createWeeklyReservation(week, j + 1)"
                        formControlName="numOfChilds"
                      />
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <hr />
          </div>
        </div>
      </form>
    </div>
  </div>
</app-wizard-step>
